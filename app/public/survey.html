<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friends Main Page </title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</head>

<body>

    <div class="container">

        <div class="jumbotron">
            <h1 class="text-center">
                <span class="fa fa-fire"></span> Friend Finder </h1>
            <hr>
            <h4 class="text-center">Answer questions from 1 - Strongly Disagree to 5 - Strongly Agree</h2>
                <br>

        </div>
        <form>
            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <label for="name">First name</label>
                    <input type="text" class="form-control" id="name" placeholder="Name" value="" required>
                </div>
            </div>

            <div class="form-row">
                <div class="col-md-4 mb-3">
                    <label for="picture">Picture</label>
                    <input type="text" class="form-control" id="picture" placeholder="Picture" value="" required>
                </div>
            </div>






            <label for="question0">You do not let other people influence your actions.</label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question0" id="question0choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question0" id="question0choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question0" id="question0choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question0" id="question0choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question0" id="question0choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>


            <label for="question1">You find it difficult to introduce yourself to other people.</label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question1" id="question1choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question1" id="question1choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question1" id="question1choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question1" id="question1choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question1" id="question1choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>


            <label for="question2">You often get so lost in thoughts that you ignore or forget your surroundings. </label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question2" id="question2choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question2" id="question2choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question2" id="question2choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question2" id="question2choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question2" id="question2choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>



            <label for="question3">You find it easy to stay relaxed even when there is some pressure. </label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question3" id="question3choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question3" id="question3choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question3" id="question3choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question3" id="question3choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question3" id="question3choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <label for="question4">Being organized is more important to you than being adaptable. </label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question4" id="question4choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question4" id="question4choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question4" id="question4choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question4" id="question4choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question4" id="question4choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <label for="question5">Your home and work environments are quite tidy. </label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question5" id="question5choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question5" id="question5choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question5" id="question5choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question5" id="question5choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question5" id="question5choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <label for="question6">You do not mind being at the center of attention. </label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question6" id="question6choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question6" id="question6choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question6" id="question6choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question6" id="question6choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question6" id="question6choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <label for="question7">People can rarely upset you.</label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question7" id="question7choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question7" id="question7choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question7" id="question7choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question7" id="question7choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question7" id="question7choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <label for="question8">Your mood can change very quickly.</label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question8" id="question8choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question8" id="question8choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question8" id="question8choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question8" id="question8choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question8" id="question8choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <label for="question9">In a discussion, truth should be more important than people’s sensitivities.</label>
            <br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question9" id="question9choice1" value="1">
                <label class="form-check-label" for="inlineRadio1">1</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question9" id="question9choice2" value="2">
                <label class="form-check-label" for="inlineRadio2">2</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question9" id="question9choice3" value="3">
                <label class="form-check-label" for="inlineRadio3">3</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question9" id="question9choice4" value="4">
                <label class="form-check-label" for="inlineRadio1">4</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="question9" id="question9choice5" value="5">
                <label class="form-check-label" for="inlineRadio2">5</label>
            </div>
            <br>
            <br>

            <!-- Button trigger modal -->
            <button type="submit" class="btn btn-primary submit" id="submit" value="submit">
                Submit
            </button>

            <!-- Modal -->
            <div class="modal fade" id="results-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="matchName">Modal title</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <img id="matchPicture" src="">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>


            <br>
            <br>
            <footer class="footer">
                <div class="container">
                    <p>
                        <a href="/api/friends">API Table Link</a> |
                        <a href="/api/waitlist">API Wait List</a>
                </div>
            </footer>

    </div>
    </form>

</body>


</html>

<script type="text/javascript">
    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

    $(".submit").on("click", function (event) {
        event.preventDefault();

        var score = [];
        var message = '';

        for (var x = 0; x < 10; x++) {
            var button = "question" + x
            var radios = document.getElementsByName(button);
            var checked = false;

            for (var i = 0, length = radios.length; i < length; i++) {
                if (radios[i].checked) {
                    score.push(radios[i].value);
                    checked = true;
                    break;
                }
            }
            if (!checked) {
                alert("Please fill out all questions!");
                break;
            }
        }

        if (checked) {
            var newFriend = {
                friendName: $("#name").val().trim(),
                picture: $("#picture").val().trim(),
                answers: score
            };

            console.log(newFriend);

            $.post("/api/friends", newFriend, function (data) {

                $("#matchName").text(data.name);
                $("#matchPicture").attr("src", data.photo);
                $("#results-modal").modal("toggle");

                // Clear the form when submitting
                /*
                $("#reserve-name").val("");
                $("#reserve-phone").val("");
                $("#reserve-email").val("");
                $("#reserve-unique-id").val("");*/

            });


        }



    });

</script>